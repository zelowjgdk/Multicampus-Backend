package wekaex;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.util.Random;

import java_cup.internal_error;
import weka.classifiers.Evaluation;
import weka.classifiers.trees.J48;
import weka.classifiers.trees.RandomForest;
import weka.core.Instances;
import weka.core.converters.CSVLoader;
import weka.core.pmml.jaxbbindings.INVALIDVALUETREATMENTMETHOD;

public class SimpleWekaex02 {
	public static void main(String[] args) throws Exception {
		int numfolds = 10;
        int numfold = 0;
        int seed = 1;

        CSVLoader csvloader = new CSVLoader();
        csvloader.setSource(new File("c:/temp/basketball_pre.csv"));
        Instances data = csvloader.getDataSet();

        // 데이터 클래스 속성을 명목 클래스로 변환
        data.setClassIndex(data.numAttributes() - 1);

        J48 model = new J48();
        model.buildClassifier(data);

        Evaluation eval = new Evaluation(data);
        eval.crossValidateModel(model, data, numfolds, new Random(seed));

        System.out.println(model);
        System.out.println(eval.toSummaryString());
        System.out.println(eval.toMatrixString());
	}
}