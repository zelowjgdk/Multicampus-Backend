package wekaex;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.util.Random;

import java_cup.internal_error;
import weka.classifiers.Evaluation;
import weka.classifiers.trees.J48;
import weka.classifiers.trees.RandomForest;
import weka.core.Instances;
import weka.core.converters.CSVLoader;
import weka.core.pmml.jaxbbindings.INVALIDVALUETREATMENTMETHOD;

public class SimpleWekaex02 {
	public static void main(String[] args) throws Exception {
		 int numfolds = 10;
	        int numfold = 0;
	        int seed = 1;

	        CSVLoader csvloader = new CSVLoader();
	        csvloader.setSource(new File("c:/temp/basketball_pre.csv"));
	        Instances data = csvloader.getDataSet();

	        data.setClassIndex(data.numAttributes() - 1);

	        RandomForest model = new RandomForest();
	        model.setNumIterations(100);
	        model.setOptions(weka.core.Utils.splitOptions("-I 100 -K 0 -S 1"));

	        model.buildClassifier(data);

	        // 평가 객체를 생성
	        Evaluation eval = new Evaluation(data);

	        // 모델 평가를 수행
	        eval.crossValidateModel(model, data, numfolds, new Random(seed));

	        System.out.println(model);

	        // 결과 출력
	        System.out.println(model);
			System.out.println(eval.toSummaryString());
			System.out.println(eval.toMatrixString());
			
	}
}